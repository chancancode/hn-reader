<div class="app-bar">
  <h2>Preferences</h2>
</div>

<div class="preferences app-panel">

  <div class="box">
    <h3>Display Preferences</h3>

    <div class="row">
      <h4>Automatic Comments Folding</h4>

      <label>
        {{input type="checkbox" checked=preferences.autoFold}}
        Fold deeply nested comments by default.
      </label>
    </div>

    <div class="row {{unless preferences.autoFold "hidden"}}">
      <h5>Folding Threshold</h5>

      {{#if topLevelOnly}}
        <p>Show top-level comments only.</p>
      {{else}}
        <p>Hide comments nested more than {{pluralize preferences.autoFoldDepth "level"}} deep.</p>
      {{/if}}

      {{input type="range" value=preferences.autoFoldDepth min=0 max=9}}
    </div>
  </div>

  <div class="box">
    <h3>Integrations</h3>

    <div class="row">
      <h4>Readibility</h4>

      <p>
        The article previews are powered by the <a href="https://www.readability.com/developers/api/parser" target="_blank">Readibility Parser API</a>.
        You can get an API token <a href="https://www.readability.com/settings/account#api" target="_blank">here</a>.
      </p>

      {{input value=preferences.readibilityParserToken placeholder="Enter your Readibility Parser API token"}}

      <p>
        <small>
          <strong>Warning:</strong> this token will be passed through a CORS
          proxy. The Parser API token does not grant access to your Readibility
          account nor the ability to read/write to your reading lists. If you
          are worried about this, you could always create a seperate account.
        </small>
      </p>
    </div>
  </div>

</div>